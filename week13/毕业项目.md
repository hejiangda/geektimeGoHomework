
## 对当下自己项目中的业务，进行一个微服务改造，需要考虑如下技术点：

1. 微服务架构（BFF、Service、Admin、Job、Task 分模块）
2. API 设计（包括 API 定义、错误码规范、Error 的使用）
3. gRPC 的使用
4. Go 项目工程化（项目结构、DI、代码分层、ORM 框架）
5. 并发的使用（errgroup 的并行链路请求）
6. 微服务中间件的使用（ELK、Opentracing、Prometheus、Kafka）
7. 缓存的使用优化（一致性处理、Pipeline 优化）

答：这个作业对我来说太难了，我是刚毕业半年的测开，目前crud还没学会，但我还是就我自己的情况讲一下我的思考吧。

目前在负责一个智能硬件测试系统的开发。整个系统包括：智能硬件端、pc端、web前端、web后端。
其中智能硬件端是最终执行测试任务的被测端，pc端是测试工具端，web前端用来查看和统计测试数据。
web后端目前只用于操作数据库表（后端用的python django rest framework，但又不太会python，复杂的逻辑都放pc端和前端用js写了。。。）

整个项目进行微服务改造的话，后端可以把用户管理、测试用例管理、测试日志管理三个部分拆成三个微服务，然后pc端我目前是用electron加go开发的，electron实现pc端的界面，
通过grpc调用go写的测试工具执行测试脚本，这部分应该可以看成两个微服务，最后智能硬件端因为条件限制只能用adb shell进行相关的操作，go写的测试工具通过发送adb命令执行智能硬件上的脚本。

对于web后端目前想法是共用同一个数据库，用户管理、测试用例管理、测试日志管理三部分分别用gin改写之前的python代码部分，把之前在前端写的用户管理、测试用例管理、测试日志管理的逻辑用go重写，
三个部分分别写成三个http服务提供restful api，等跑通了再改用grpc，然后再写一个BFF用于给前端和pc端提供面向各种实际需求的接口，之前想过用kratos一步到位，发现太难了，

api设计部分，目前还没想好

grpc目前用在了electron与测试工具端的通信，通过grpc把设备的屏幕截图传输到electron的界面上

go项目的工程化，我打算按照课程中的来实践，因为还不会用go写web服务的代码就先搁置吧。。。

并发的使用、中间件、缓存，还在学习中。。。
